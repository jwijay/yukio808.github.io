<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <script="boostrap.min.js"></script>
  <link rel="stylesheet" href="Awkward.css">
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
  <h1>Round #1</h1>
  
  <div id="card_scenario">
    Stranger kisses your significant other.
  </div>
  
  <table align="center">
    <tr>
      <td>
        <div class="img-with-text">
          <img id="cat" src="Pictures/cat.png">
          <span>User 1</span>
          <div class="timer cat">
          </div>
        </div>
      </td>
      <td>
        <div class="img-with-text">
          <img id="turtle" src="Pictures/turtle.png">
          <span>User 2</span>
          <div class="timer turtle">
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>
       <div class="img-with-text seal">
          <img id="seal" src="Pictures/seal.png" >
          <span>User 3</span>
          <div class="timer seal">
          </div>
        </div>
      </td>
      <td>
        <div class="img-with-text squid">
          <img id="squid" src="Pictures/squid.png" >
          <span>User 4</span>
          <div class="timer squid">
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <div class="img-with-text sloth">
          <img id="sloth" src="Pictures/sloth.png" >
          <span>User 5</span>
          <div class="timer sloth">
          </div>
        </div>
      </td>
      <td>
        <div class="img-with-text rooster">
          <img id="rooster" src="Pictures/rooster.png" >  
          <span>User 6</span>
          <div class="timer rooster">
          </div>
        </div>
      </td>
    </tr>
  </table>
  <div id="start_button">
    <button id="button">Start</button>
  </div>
  
  <script>
  shuffle($("table"));


   function shuffle(tbl) {
       var arr = tbl.find("td");
       for(
         var j, x, i = arr.length; i;
         j = parseInt(Math.random() * i),
         x = arr[--i], arr[i] = arr[j], arr[j] = x
       );

       var tmp;
       var rows = tbl.find("tr").length

       var cols = tbl.find("tr:first td").length

       for (i = 0; i < rows; i++){
           tmp = tbl.find("tr").eq(i);
           tmp.html()
           for (j = 0; j < cols; j++)
               tmp.append(arr[i*cols+j]);

       }       
   }
   
   var time = 10;
   var players_played = ["cat", "sloth", "squid", "seal", "rooster", "turtle"];
   
   function test(){
     time -= 0.01;
     $("div." + players_played[0]).html(time.toFixed(2));
     if(time <= 0.0){
       $("div." + players_played[0]).remove();
       $("img#" + players_played[0]).fadeTo('fast', 1);
     }
   }
   
   $("#button").click(function(){
       $("img#" + players_played[0]).fadeTo('fast', 0.1)
       window.setInterval(test, 10)
       time = 10;
   })
  </script>
</body>
</html>