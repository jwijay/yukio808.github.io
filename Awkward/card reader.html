<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <script="boostrap.min.js"></script>
  <link rel="stylesheet" href="Awkward.css">
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
  <h1>Round #1</h1>
  
  <div id="card_scenario">
    Stranger kisses your significant other.
  </div>
  
  <table align="center">
    <tr>
      <td>
        <div class="img-with-text cat">
          <img id="cat" src="Pictures/cat.jpg">
          <span>User 1</span>
          <div id="timer">
          </div>
        </div>
      </td>
      <td>
        <div class="img-with-text">
          <img src="Pictures/turtle.jpeg">
          <span>User 2</span>
        </div>
      </td>
    </tr>
    <tr>
      <td>
       <div class="img-with-text">
          <img src="Pictures/dog.jpeg" >
          <span>User 3</span>
        </div>
      </td>
      <td>
        <div class="img-with-text">
          <img src="Pictures/squid.jpg" >
          <span>User 4</span>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <div class="img-with-text">
          <img src="Pictures/sloth.jpg" >
          <span>User 5</span>
        </div>
      </td>
      <td>
        <div class="img-with-text">
          <img src="Pictures/bunny.jpg" >  
          <span>User 6</span>
        </div>
      </td>
    </tr>
  </table>
  <div id="start_button">
    <button id="button">Start</button>
  </div>
  
  <script>
  shuffle($("table"));
    
   function shuffle(tbl) {
       var arr = tbl.find("td");
       for(
         var j, x, i = arr.length; i;
         j = parseInt(Math.random() * i),
         x = arr[--i], arr[i] = arr[j], arr[j] = x
       );

       var tmp;
       var rows = tbl.find("tr").length;

       var cols = tbl.find("tr:first td").length;

       for (i = 0; i < rows; i++){
           tmp = tbl.find("tr").eq(i);
           tmp.html();
           for (j = 0; j < cols; j++)
               tmp.append(arr[i*cols+j]);

       }       
   }
/*var tableAccess = [];
    $("table tr").each(function(){
      var arrayOfThisRow = [];
      var tableData = $(this).find("td");
      if (tableData.length > 0){
        table.each(function(){
          arrayOfThisRow.push($(this).text());
        });
        tableAccess.push(arrayOfThisRow);
      }
      console.log(tableAccess);
    });*/

   
   var time = 10;
   
   function test(){
     time -= 0.01;
     $("div#timer").html(time.toFixed(2));
     if(time <= 0.0){
       $("div#timer").remove();
       $("img#cat").fadeTo('fast', 1);
     }
   }
   
   $("#button").click(function(){
     $("img#cat").fadeTo('fast', 0.1);
     window.setInterval(test, 25);
      $('#button').html("next");
   });

  </script>
</body>
</html>